// textData.js


console.log('pr_005_text.js loaded, window.displayTextInfo set');


(function(window) {
    window.textData = [
    {
        name1: 'Trojan Horse', 
        alias1: '',                
        nickname1: '',
        name2: 'トロイの木馬', 
        alias2: '',                  
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Stealth Virus', 
        alias1: 'Alias:',         
        nickname1: 'Ghost Virus', 
        name2: 'ステルス型ウイルス', 
        alias2: '通称',          
        nickname2: 'ゴースト・ウイルス',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Stealth Virus', 
        alias1: 'Alias:',         
        nickname1: 'Dark Virus', 
        name2: 'ステルス型ウイルス', 
        alias2: '通称',          
        nickname2: 'ダーク・ウイルス',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Mutation Virus', 
        alias1: 'Alias:',        
        nickname1: 'Alien Virus', 
        name2: 'ミューテーション型ウイルス', 
        alias2: '通称',   
        nickname2: 'エイリアン・ウイルス',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Browser Hijacking', 
        alias1: 'Alias:',     
        nickname1: 'Porn Wear', 
        name2: 'ブラウザハイジャック', 
        alias2: '通称',        
        nickname2: 'ポルノ・ウェア',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'RansomWare', 
        alias1: 'Alias:',            
        nickname1: 'Mafia Wear', 
        name2: 'ランサムウエア', 
        alias2: '通称',             
        nickname2: 'マフィア・ウェア',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Logic Bomb', 
        alias1: 'Alias:', 
        nickname1: 'SmileMark Bomb', 
        name2: 'ロジックボム', 
        alias2: '通称', 
        nickname2: 'スマイルマーク・ボム',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'SpyWare', 
        alias1: '', 
        nickname1: '', 
        name2: 'スパイウェア', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Cracking', 
        alias1: '', 
        nickname1: '', 
        name2: 'クラッキング', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Cyberterrorism', 
        alias1: '', 
        nickname1: '', 
        name2: 'サイバーテロ', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Attacking', 
        alias1: '', 
        nickname1: '', 
        name2: 'アタッキング', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Bots (spambots)', 
        alias1: '', 
        nickname1: '', 
        name2: 'ボット（スパムボット）', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Mass Mailing Type Worm', 
        alias1: 'Alias:', 
        nickname1: 'Love Letter Worm', 
        name2: 'マスメーリング型ワーム', 
        alias2: '通称', 
        nickname2: 'ラブレター・ワーム',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Networked Worms', 
        alias1: 'Alias:', 
        nickname1: 'Hydra Worm', 
        name2: 'ネットワーク型ワーム', 
        alias2: '通称', 
        nickname2: 'ヒュドラ・ワーム',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Keylogger', 
        alias1: '', 
        nickname1: '', 
        name2: 'キーロガー', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Scareware', 
        alias1: 'Alias:', 
        nickname1: 'Error Vaccine', 
        name2: 'スケアウェア', 
        alias2: '通称', 
        nickname2: 'エラー・ワクチン',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Christmas Card virus', 
        alias1: 'Alias:', 
        nickname1: 'Christmas Card virus', 
        name2: 'パスワードスティーラ', 
        alias2: '通称', 
        nickname2: 'クリスマスカード・ウイルス',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: '〈Spear Phishing〉 Phishing', 
        alias1: '', 
        nickname1: '', 
        name2: '〈スピアフィッシング〉フィッシング', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Backdoors', 
        alias1: '', 
        nickname1: '', 
        name2: 'バックドア', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Hacking', 
        alias1: '', 
        nickname1: '', 
        name2: 'ハッキング', 
        alias2: '', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    },
    {
        name1: 'Net Police ', 
        alias1: '(Cybercrime Investigation Department)', 
        nickname1: '', 
        name2: 'ネットポリス', 
        alias2: '（サイバー犯罪捜査部）', 
        nickname2: '',
        fontEn: "'Kosugi Maru', sans-serif",
        fontJp: "'Kiwi Maru', serif"
    }
];

    function getTextInfo(index) {
        if (index >= 0 && index < textData.length) {
            return textData[index];
        } else {
            return {
                name1: "Error: Invalid Index",
                name2: "Error: Invalid Index",
                alias1: "",
                nickname1: "",
                alias2: "",
                nickname2: ""
            };
        }
    }
    
        function adjustKatakana1(text) {
            return text.replace(/(ア|の|木|バ)/g, '<span style="letter-spacing: -0.05em;">$1</span>');
        }

        function adjustKatakana2(text) {
            return text.replace(/(ク|シ|ュ|ィ|ト|ド|ロ|サ|ウ)/g, '<span style="letter-spacing: -0.2em;">$1</span>');
        }

        function adjustKatakana3(text) {
            return text.replace(/(ミ|テ|ム|タ|イ|ョ|フ|ワ|ェ|ラ)/g, '<span style="letter-spacing: -0.25em;">$1</span>');
        }

        function adjustKatakana4(text) {
            return text.replace(/(〈|〉|ジ|ッ|ャ)/g, '<span style="letter-spacing: -0.3em;">$1</span>');
        }

        function adjustKatakana5(text) {
            return text.replace(/(・)/g, '<span style="letter-spacing: -0.35em;">$1</span>');
        }

        function applyAllAdjustments(text) {
            return adjustKatakana5(
                adjustKatakana4(
                    adjustKatakana3(
                        adjustKatakana2(
                            adjustKatakana1(text)
                        )
                    )
                )
            );
        }

    
        function displayTextInfo(index) {
        const textInfo = getTextInfo(index);

       if (window.textElement) {
            window.textElement.remove();
        }
        
        
         const outlineStyle = `
            text-shadow: 
                -0.5px -0.5px 0 #fff,
                0.5px -0.5px 0 #fff,
                -0.5px 0.5px 0 #fff,
                0.5px 0.5px 0 #fff;
        `;
        
        window.textElement = document.createElement('div');
        window.textElement.className = 'slide-info';
        window.textElement.innerHTML = `
            <div class="slide-info-top">
                <h2 style="color: #000000; margin-bottom: -8px; ${outlineStyle}">${textInfo.name1}</h2>
                <p class="alias" style="color: #808080; margin-bottom: -2px; ${outlineStyle}">${textInfo.alias1}</p>
                <p style="color: #808080; ${outlineStyle}">${textInfo.nickname1}</p>
            </div>
            <div class="slide-info-bottom">
                <h2 style="color: #000000; margin-bottom: -8px; ${outlineStyle}">${applyAllAdjustments(textInfo.name2)}</h2>
                <p class="alias" style="color: #808080; margin-bottom: -2px; ${outlineStyle}">${applyAllAdjustments(textInfo.alias2)}</p>
                <p style="color: #808080; ${outlineStyle}">${applyAllAdjustments(textInfo.nickname2)}</p>
            </div>
        `;
        

        window.container.appendChild(window.textElement);

        gsap.from(window.textElement, {
            duration: 0.5,
            opacity: 0,
            ease: "power2.out",
            onComplete: () => console.log('Text animation completed')
        });
    }

    // Expose the displayTextInfo function to the global scope
    window.displayTextInfo = displayTextInfo;

})(window);